/* ===================== TOKENS (palette, type, layout) ===================== */
:root{
  --paper:#F5F1E9;
  --ink:#141414;
  --sepia:#7B6650;
  --ox:#4B1F1F;
  --ultra:#2B55AE;

  --gap:clamp(10px, 3vw, 18px);
  --radius:12px;
  --shadow:0 6px 22px rgba(0,0,0,.08);

  --header-bg: color-mix(in oklab, var(--paper) 90%, white 10%);
  --rail-bg: #efe9df;
}

@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
}

/* ===================== BASE ===================== */
html, body { height:100%; }
html { background:var(--paper); color:var(--ink); }
body {
  margin:0;
  font: 400 16px/1.5 "EB Garamond", Georgia, serif;
  padding-bottom: calc(12px + env(safe-area-inset-bottom));
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
h1, h2 { margin:.2em 0 .4em; line-height:1.1; }
.section-title { font-size:clamp(22px, 5vw, 30px); font-weight:600; letter-spacing:.2px; }
a { color:inherit; text-decoration:none; -webkit-tap-highlight-color: rgba(0,0,0,0); }
img { max-width:100%; height:auto; display:block; }

/* Small utility text */
.small { font-size:.9rem; }
.muted { color:var(--sepia); }

/* ===================== INTRO / LANDING VIDEO ===================== */
.intro{
  position:fixed; inset:0; z-index:50; background:#000;
  display:grid; place-items:center;
  transition: opacity .6s ease;
}
.intro.hide{ opacity:0; pointer-events:none; }
.intro-video{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.intro-overlay{
  position:relative; z-index:1; display:grid; place-items:center; text-align:center; padding:20px;
}
.brand-script{
  font-family:"Great Vibes", cursive;
  font-weight:400;
  font-size:clamp(42px, 10vw, 84px);
  color:#fff;
  text-shadow:0 2px 18px rgba(0,0,0,.45);
}
.skip-intro{
  position:absolute; right:14px; bottom:14px;
  padding:8px 12px; border-radius:999px;
  background:rgba(255,255,255,.16); color:#fff; border:1px solid rgba(255,255,255,.28);
  backdrop-filter: blur(6px);
  font: 600 .9rem/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* ===================== HEADER / CENTERED NAV ===================== */
.site-header{
  position:sticky; top:0; z-index:20;
  background:var(--header-bg);
  backdrop-filter: blur(8px);
  display:grid; grid-template-columns: 1fr auto 1fr;
  align-items:center;
  padding:8px clamp(12px, 4vw, 20px);
  border-bottom:1px solid color-mix(in oklab, var(--sepia) 35%, #000 10%);
}
.nav{
  grid-column:2;
  display:flex; gap:clamp(10px, 4vw, 22px);
  justify-content:center; align-items:center;
  font: 600 1rem/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
.nav-link{ position:relative; padding:10px 4px; }
.nav-link::after{
  content:""; position:absolute; left:0; right:100%; bottom:4px; height:2px;
  background: linear-gradient(90deg, var(--ox), var(--ultra));
  transition:right .35s ease; border-radius:2px;
}
.nav-link:is(:hover,:focus-visible,.active)::after{ right:0; }
.profile{
  grid-column:3; justify-self:end;
  width:36px; height:36px; border-radius:50%; object-fit:cover;
  border:1px solid color-mix(in oklab, var(--sepia) 35%, #000 10%);
}

/* ===================== SECTIONS / ROWS ===================== */
.section{ padding: clamp(16px, 6vw, 28px); }
.rows{ display:grid; gap:var(--gap); }

/* Horizontal, touch-friendly rows with snap */
.row{
  display:flex; gap:var(--gap);
  overflow-x:auto; -webkit-overflow-scrolling:touch;
  scroll-snap-type: x mandatory;
  padding-bottom:6px;
  scrollbar-width: none; /* Firefox */
  background: none;
}
.row::-webkit-scrollbar{ display:none; } /* WebKit */

/* Card: consistent aspect and shadow */
.card{
  flex:0 0 auto;
  width: clamp(220px, 70vw, 360px);
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:var(--shadow);
  background:var(--rail-bg);
  position:relative;
  scroll-snap-align:start;
}
.card img{
  width:100%; height:auto; aspect-ratio:4/5; object-fit:cover;
  touch-action: manipulation; /* prevents accidental double-tap zoom on iOS */
}
.card figcaption{ padding:8px 10px; color:var(--sepia); }

/* ===================== BOTTOM DOCK (thumb-reachable nav) ===================== */
.bottom-dock{
  position:sticky; bottom:0; z-index:15;
  display:flex; gap:10px; justify-content:center; align-items:center;
  padding:10px calc(12px + env(safe-area-inset-right)) calc(12px + env(safe-area-inset-bottom)) calc(12px + env(safe-area-inset-left));
  background: color-mix(in oklab, var(--paper) 85%, #000 15%);
  backdrop-filter: blur(8px);
  border-top:1px solid color-mix(in oklab, var(--sepia) 35%, #000 10%);
}
.bottom-dock a{
  padding:8px 12px;
  border:1px solid color-mix(in oklab, var(--sepia) 35%, #000 10%);
  border-radius:999px;
  font: 500 .95rem/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
.bottom-dock a.active-chip{ background:#efe9df; }

/* ===================== LIGHTBOX (minimal) ===================== */
.lightbox[hidden]{ display:none; }
.lightbox{
  position:fixed; inset:0; z-index:60;
  background:rgba(0,0,0,.9);
  display:grid; place-items:center;
}
.lb-close{
  position:absolute; top:14px; right:14px;
  width:44px; height:44px; border-radius:999px;
  background:rgba(255,255,255,.12); color:#fff;
  border:1px solid rgba(255,255,255,.25);
  font-size:26px; line-height:1; display:grid; place-items:center;
  backdrop-filter: blur(6px);
}
#lb-img{ max-width:92vw; max-height:80vh; object-fit:contain; }
.lb-cap{ margin-top:8px; color:#e8e8e8; text-align:center; font-size:.95rem; }

/* ===================== ACCESSIBILITY & MISC ===================== */
:focus-visible{
  outline: 2px solid var(--ultra);
  outline-offset: 2px;
}
@media (pointer: coarse){
  .nav-link, .bottom-dock a { padding:12px 10px; }
}

/* Optional: soft section separator on larger screens */
@media (min-width: 900px){
  .section{ padding-top: clamp(24px, 6vw, 40px); }
}
